<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>Stromverbrauch Visualisierung</title>
    <style>
        body {
            font-family: Arial, sans-serif; margin: 0; padding: 20px; background-color: #f5f5f5;
        }
        h1, h2 { color: #333; }
        .container {
            max-width: 1000px; margin: 0 auto; background-color: white;
            padding: 20px; border-radius: 5px; box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        .nav-list { list-style-type: none; padding: 0; margin-bottom: 20px; }
        .nav-list li { display: inline; margin-right: 10px; }
        .day-list { list-style-type: none; padding: 0; }
        .day-item {
            margin-bottom: 25px; padding: 20px; background-color: #f9f9f9;
            border-radius: 5px; border: 1px solid #eee;
        }
        .day-item h2 { margin-top: 0; margin-bottom: 5px; }
        .daily-totals { font-size: 0.9em; color: #555; margin-bottom: 15px; }
        .day-link { color: #0066cc; text-decoration: none; font-weight: bold; }
        .day-link:hover { text-decoration: underline; }
        .weekday { font-weight: normal; color: #666; font-size: 0.9em; }
        :target::before {
          content: ""; display: block; height: 60px; margin-top: -60px; visibility: hidden;
        }
        img {
            max-width: 100%; height: auto; border: 1px solid #ddd;
            border-radius: 4px; display: block; margin-top: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Stromkosten & Verbrauch Visualisierung</h1>
        <p>Wähle einen Tag:</p>
        <ul class="nav-list">
            {% for day_info in daily_summary %}
            <li>
                <a class="day-link" href="#{{ day_info.date }}">
                    {{ day_info.date }} <span class="weekday">({{ day_info.weekday }})</span>
                </a>
            </li>
            {% endfor %}
        </ul>
        <hr>
        <ul class="day-list">
            {% for day_info in daily_summary %}
            <li class="day-item" id="{{ day_info.date }}">
                <h2>{{ day_info.date }} ({{ day_info.weekday }})</h2>
                <p class="daily-totals">
                    <!-- Hier die Änderung: "Gesamt Strom:" statt "Gesamt:" -->
                    Gesamt Strom: {{ "%.1f" | format(day_info.total_kwh) }} kWh / {{ "%.2f" | format(day_info.total_eur) }} €
                </p>
                <img src="/plot/{{ day_info.date }}" alt="Stromkosten & Verbrauch am {{ day_info.date }}">
            </li>
            {% endfor %}
        </ul>
    </div>
</body>
</html>